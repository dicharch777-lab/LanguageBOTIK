<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Language Bot Web App</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
  h1 { text-align: center; color: #333; }
  button { padding: 10px 20px; margin: 5px; font-size: 16px; cursor: pointer; border: none; border-radius: 5px; }
  #addWordBtn { background-color: #4CAF50; color: white; }
  #showWordsBtn { background-color: #2196F3; color: white; }
  #quizBtn { background-color: #FF9800; color: white; }
  #exitQuizBtn { background-color: #f44336; color: white; display: none; }
  #wordInput { width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box; }
  #status { margin-top: 10px; font-weight: bold; color: #333; }
</style>
</head>
<body>

<h1>Language Bot Web App</h1>

<button id="addWordBtn">Добавить слово</button>
<button id="showWordsBtn">Показать слова</button>
<button id="quizBtn">Викторина</button>
<button id="exitQuizBtn">Выйти из викторины</button>

<div id="addWordForm" style="display:none; margin-top:20px;">
  <input type="text" id="wordInput" placeholder="word - перевод - пример - часть речи - язык - сложность">
  <button id="sendWordBtn" style="background-color:#4CAF50; color:white;">Отправить слово</button>
</div>

<div id="status"></div>

<script>
  const tg = window.Telegram.WebApp;

  function sendDataToBot(data) {
    tg.sendData(JSON.stringify({action: data}));
  }

  document.getElementById("addWordBtn").addEventListener("click", () => {
    hideAll();
    document.getElementById("addWordForm").style.display = "block";
    document.getElementById("status").innerText = "Введите слово и нажмите Отправить";
    sendDataToBot("add_word");
  });

  document.getElementById("sendWordBtn").addEventListener("click", () => {
    const val = document.getElementById("wordInput").value.trim();
    if(val) {
      sendDataToBot(val);
      document.getElementById("status").innerText = "Слово отправлено!";
      document.getElementById("wordInput").value = "";
    } else {
      document.getElementById("status").innerText = "Введите слово!";
    }
  });

  document.getElementById("showWordsBtn").addEventListener("click", () => {
    hideAll();
    document.getElementById("status").innerText = "Запрос слов отправлен...";
    sendDataToBot("show_words");
  });

  document.getElementById("quizBtn").addEventListener("click", () => {
    hideAll();
    document.getElementById("exitQuizBtn").style.display = "inline-block";
    document.getElementById("status").innerText = "Викторина началась!";
    sendDataToBot("quiz");
  });

  document.getElementById("exitQuizBtn").addEventListener("click", () => {
    hideAll();
    document.getElementById("status").innerText = "Вы вышли из викторины";
    sendDataToBot("exit_quiz");
  });

  function hideAll() {
    document.getElementById("addWordForm").style.display = "none";
    document.getElementById("exitQuizBtn").style.display = "none";
  }
</script>

</body>
</html>
